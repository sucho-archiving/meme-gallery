---
import PageLayout from "../../components/PageLayout.astro";

import { templateTypeGlossary } from "../../glossary.mjs";
import { memes } from "../../dataset.mjs";
import { sluggify } from "../../utils.js";

const directoryOrder = Object.keys(templateTypeGlossary).sort((a, b) =>
  a.localeCompare(b),
);

const title = `Template Types Glossary`;
const description = `Template Types Glossary`;
---

<PageLayout {title} {description}>
  <h1>{title}</h1>

  <ul>
    {
      directoryOrder.map((memeTypeSlug) => (
        <li>
          <a href={`${memeTypeSlug}/`}>
            {templateTypeGlossary[memeTypeSlug].title}
          </a>
          [
          {
            memes.filter((m) =>
              m.templateTypes.map((t) => sluggify(t)).includes(memeTypeSlug),
            ).length
          }
          ]
        </li>
      ))
    }
  </ul>
</PageLayout>
